<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåê Blogs</title>

    <!-- DataTables CSS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.5.0/css/responsive.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.3.6/css/buttons.dataTables.min.css">


    <link rel="icon" type="image/png" sizes="32x32" href="https://benoit-gaumard.io/icons/favicon-32x32.png">
    <style>
        /* Basic styling for the page */
        body { font-family: Arial, sans-serif; padding: 10px;}
        h1 { color: #0078D4; }
        h2 { color: #0078D4; margin-top: 2px; margin-bottom: 2px;}
        h4 { color: #0078D4; margin-top: 2px; margin-bottom: 2px;}
        a { color: #1e90ff; }
        a:hover { color: #63a4ff; }
        p { margin-top: 4px; margin-bottom: 4px; }

        /* Slider for dark mode */
        .icon {position: absolute;top: 50%;transform: translateY(-50%);font-size: 18px;transition: .4s;}
        .sun {left: 5px;}
        .moon {right: 4px;opacity: 0;}
        input:checked + .slider .sun {opacity: 0;}
        input:checked + .slider .moon {opacity: 1;}
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 34px; }
        .slider:before { position: absolute; content: ""; height: 26px; width: 26px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: #0078D4; }
        input:checked + .slider:before { transform: translateX(26px); }
        .dark-mode-toggle { float: right; }
        .dark-mode-slider { position: relative; display: inline-block; width: 60px; height: 34px; }
        .dark-mode-slider input { opacity: 0; width: 0; height: 0; }

        body.dark-mode a { color: #1e90ff; }
        body.dark-mode a:hover { color: #63a4ff; }

        body.dark-mode { background-color: #121212; color: #ffffff; }
        body.dark-mode .feed-container { background: #333333; border-color: #555555; }
        body.dark-mode .local-storage-container { background: #333333; border-color: #555555; }
        body.dark-mode .accordion { background-color: #333333; }
        body.dark-mode .accordion:hover { background-color: #555555; }

        /* Containers */
        .feed-container {margin-bottom: 10px; padding: 5px; border: 1px solid #ddd; border-radius: 4px; background: #f9f9f9; }
        .feed-item {margin-bottom: 2px; font-size: 0.9em; }
        .feed-item a { text-decoration: none; color: #0078D4; font-weight: bold; }
        .feed-item a:hover {text-decoration: underline; }
        .feed-item p { margin: 4px; }
        .display-feed {margin-bottom: 4px; }
        .add-feed {margin-bottom: 4px; }

        /* RSS Feeds container */
        #rss-feeds {
            margin-top: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: #f9f9f9;
        }

        body.dark-mode #rss-feeds {
            background: #333333;
            border-color: #555555;
        }

        /* Accordion */
        .local-storage-container { margin-top: 10px; margin-bottom: 10px; padding: 10px; background: #e9e9e9; border: 1px solid #ccc; border-radius: 4px; }
        .accordion { background-color: #0078D4; color: white; cursor: pointer; width: 100%; border: none; text-align: center; outline: none; transition: 0.4s; }
        .accordion:hover { background-color: #005a9e; }
        .panel {display: none; overflow: hidden; }

        /* Buttons */
        /*textarea, button {width: 100%; box-sizing: border-box; border-radius: 4px; margin-top: 4px;}*/

        .add-btn { background: #0078D4; color: white; border: none; cursor: pointer; border-radius: 4px; margin-bottom: 4px;}
        .add-btn:hover { background: #005a9e; }

        .clear-btn { background: #ff4d4d; color: white; border: none; cursor: pointer; border-radius: 4px}
        .clear-btn:hover { background: #cc0000; }

        .show-btn { background: #f59221; color: white; border: none; cursor: pointer; border-radius: 4px; margin-bottom: 4px;}
        .show-btn:hover { background: #f38302; }

        .categories-btn { background: #8d908d; color: white; border: none; cursor: pointer; border-radius: 4px; margin-top: 4px;}
        .categories-btn:hover { background: #5c5e5c; }

        .select-all-categories-btn { background: #6b25b1; color: white; border: none; cursor: pointer; border-radius: 4px; width: 20%; margin-top:6px; margin-right: 10px;}
        .select-all-categories-btn:hover { background: #6b25b1; width: 20%; margin-right: 10px;}

        .unselect-all-categories-btn { background: #6b25b1; color: white; border: none; cursor: pointer; margin-top:4px; border-radius: 6px; width: 20%}
        .unselect-all-categories-btn:hover { background: #6b25b1; width: 20%}

        .go-top-btn { background: #0078D4; color: white; border: none; cursor: pointer; margin-top: 4px; border-radius: 4px; display: none; }
        .go-top-btn:hover { background: #005a9e; }

        /* .csv-table, button{ border-radius: 3px; float: none;}*/
        .csv-table.button {box-sizing: border-box; border-radius: 3px; margin-top: 3px; float: none;}

        /* Footer */
        footer { text-align: center; font-size: 14px;}

    </style>

<!-- <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.13.7/css/jquery.dataTables.css">
<script type="text/javascript" src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script> -->
</head>
<body>

    <!-- Header-->
    <div class="header-section">
        <!-- Dark mode toggle switch -->
        <div class="dark-mode-toggle">
            <label class="dark-mode-slider">
                <input type="checkbox" id="dark-mode-checkbox" onclick="toggleDarkMode()">
                <span class="slider">
                    <span class="icon sun">‚òÄÔ∏è</span>
                    <span class="icon moon">üåô</span>
                </span>
            </label>
        </div>

        <!-- Title -->
        <h2>üåê Blogs</h2>
        <p><small>This page displays Microsoft blogs RSS feeds from <a href="https://techcommunity.microsoft.com/Blogs" target="_blank">here</a>.</small></p>
    </div>

    <!-- Display Feeds -->
    <div id="rss-feeds"></div>

    <!-- CSV Data Table -->
    <div id="csv-table" style="margin-top: 20px; overflow-x: auto;">
        <table style="width: 100%; border-collapse: collapse; margin-bottom: 20px;">
            <thead>
                <tr style="background-color: #0078D4; color: white;">
                    <th style="padding: 8px; text-align: left; border: 1px solid #ddd;">Name</th>
                    <th style="padding: 8px; text-align: left; border: 1px solid #ddd;">RSS Feed URL</th>
                    <th style="padding: 8px; text-align: left; border: 1px solid #ddd;">Category</th>
                </tr>
            </thead>
            <tbody id="csv-content"></tbody>
        </table>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.5.0/js/dataTables.responsive.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.3.6/js/dataTables.buttons.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.3.6/js/buttons.html5.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.3.6/js/buttons.print.min.js"></script>


    <script>
    // Dark mode toggle function
    function toggleDarkMode() {
        document.body.classList.toggle('dark-mode');
        const isDarkMode = document.body.classList.contains('dark-mode');
        localStorage.setItem('darkMode', isDarkMode);
    }

    // Check for saved dark mode preference
    document.addEventListener('DOMContentLoaded', () => {
        const isDarkMode = localStorage.getItem('darkMode') === 'true';
        if (isDarkMode) {
            document.body.classList.add('dark-mode');
            document.getElementById('dark-mode-checkbox').checked = true;
        }
    });

    fetch('https://raw.githubusercontent.com/Benoit-Gaumard/Benoit-Gaumard.github.io/refs/heads/main/static/tools/BlogsList.csv')
        .then(response => response.text())
        .then(data => {
            const rows = data.split('\n').slice(1);
            const tbody = document.getElementById('csv-content');
            rows.forEach(row => {
                if (row.trim()) {
                    const [name, url, category] = row.split(',').map(cell => cell.trim());
                    const tr = document.createElement('tr');
                    tr.innerHTML = `
                        <td>${name}</td>
                        <td><a href="${url}" target="_blank">${url}</a></td>
                        <td>${category}</td>
                    `;
                    tbody.appendChild(tr);
                }
            });
            // Initialize DataTable after the data is loaded
            $(document).ready(function() {
                $('#csv-table table').DataTable({
                    paging: true,
                    select: true,
                    rowReorder: true,
                    colReorder: true,
                    keys: true,
                    autoFill: true,
                    lengthChange: true,
                    searching: true,
                    ordering: true,
                    info: true,
                    lengthMenu: [
                        [10, 25, 50, -1],
                        [10, 25, 50, "All"]
                    ],
                    pageLength: -1,
                    autoWidth: true,
                responsive: true,
                    lengthChange: true,
                    autoWidth: false,
                    dom: 'Blfrtip',
                    buttons: [{
                            extend: 'copy',
                        },
                        {
                            extend: 'csv',
                        },
                        {
                            extend: 'excel',
                        }
                    ],
                        language: {
                            search: "üîç Search:",
                            lengthMenu: "Show _MENU_ entries",
                            info: "Showing _START_ to _END_ of _TOTAL_ entries"
                        }
                });
            });
        })
        .catch(error => console.error('Error fetching CSV:', error));
    </script>

    <!-- Footer -->
    <hr>
    <footer>
        <p>&copy; 2025 - Built with ‚ù§Ô∏è - All Rights Reserved</p>
        <p>By <a href="https://www.linkedin.com/in/benoit-gaumard/" target="_blank">Benoit G</a> Infra and DevOps Consultant @ Microsoft</p>
    </footer>
</body>
</html>